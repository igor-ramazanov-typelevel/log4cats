<!DOCTYPE html>
<html lang="en">
  
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Typelevel Laika + Helium Theme" />
  <title>log4cats</title>
  
  <meta name="author" content="Christopher Davenport"/>
  
  <meta name="author" content="Loránd Szakács"/>
  
  
  <meta name="description" content="docs"/>
  
  
  
  <link rel="icon" sizes="32x32" type="image/png" href="https://typelevel.org/img/favicon.png"/>
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">
  
  <link rel="stylesheet" type="text/css" href="helium/site/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="helium/site/laika-helium.css" />
  <script src="helium/site/laika-helium.js"></script>
  
  
  <script> /* for avoiding page load transitions */ </script>
</head>

  <body>

    <header id="top-bar" class="light-default dark-default">

  <div class="row">
    <a id="nav-icon">
      <i class="icofont-laika navigationMenu" title="Navigation">&#xefa2;</i>
    </a>
    
    
  </div>

  <a class="image-link" href="https://typelevel.org"><img src="https://typelevel.org/img/logo.svg"></a>

  <div class="row links">
    
    <a class="icon-link svg-link" href="https://github.com/igor-ramazanov-typelevel/log4cats"><span class="github" title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a>
    
    <a class="icon-link glyph-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika chat" title="Chat">&#xeed5;</i></a>
    
    <a class="icon-link svg-link" href="https://fosstodon.org/@typelevel"><span class="mastodon" title="Mastodon"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <g class="svg-shape">
    <path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/>
  </g>
</svg></span></a>
    
  </div>  

</header>
    
    <nav id="sidebar">

  <div class="row">
    
    <a class="icon-link svg-link" href="https://github.com/igor-ramazanov-typelevel/log4cats"><span class="github" title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a>
    
    <a class="icon-link glyph-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika chat" title="Chat">&#xeed5;</i></a>
    
    <a class="icon-link svg-link" href="https://fosstodon.org/@typelevel"><span class="mastodon" title="Mastodon"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <g class="svg-shape">
    <path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/>
  </g>
</svg></span></a>
    
  </div>

  <ul class="nav-list">
    <li class="level1 active nav-leaf"><a href="#">log4cats</a></li>
  </ul>

</nav>

    <div id="container">

      
<nav id="page-nav">
  <p class="header"><a href="#">log4cats</a></p>

  <ul class="nav-list">
    <li class="level1 nav-leaf"><a href="#project-goals">Project Goals</a></li>
    <li class="level1 nav-leaf"><a href="#quick-start">Quick Start</a></li>
    <li class="level1 nav-node"><a href="#examples">Examples</a></li>
    <li class="level2 nav-leaf"><a href="#laconic-syntax">Laconic syntax</a></li>
    <li class="level1 nav-leaf"><a href="#logging-using-capabilities">Logging using capabilities</a></li>
    <li class="level1 nav-leaf"><a href="#cve-2021-44228-log4shell">CVE-2021-44228 (&quot;log4shell&quot;)</a></li>
  </ul>

  <p class="footer"></p>
</nav>


      <main class="content">

        <h1 id="log4cats" class="title">log4cats</h1>
        <p><a href="https://github.com/typelevel/log4cats/actions?query=branch%3Amain+workflow%3A%22Continuous+Integration%22"><img src="https://github.com/typelevel/log4cats/workflows/Continuous%20Integration/badge.svg?branch=main" alt="Build Status"></a> <a href="https://maven-badges.herokuapp.com/maven-central/org.typelevel/log4cats-core_2.12"><img src="https://maven-badges.herokuapp.com/maven-central/org.typelevel/log4cats-core_2.12/badge.svg" alt="Maven Central"></a></p>
        
        <h2 id="project-goals" class="section"><a class="anchor-link left" href="#project-goals"><i class="icofont-laika link">&#xef71;</i></a>Project Goals</h2>
        <p>log4cats attempts to make referentially transparent logging a reality. These F algebras allow you to write
        code for logging knowing you won&#39;t be doing side-effects as it offers no way to do so. We provide our own slf4j layer,
        or you can use any of the supported backends, or create your own.</p>
        
        <h2 id="quick-start" class="section"><a class="anchor-link left" href="#quick-start"><i class="icofont-laika link">&#xef71;</i></a>Quick Start</h2>
        <p>To use log4cats in an existing SBT project with Scala 2.12 or a later version, add the following dependency to your
        <code>build.sbt</code>:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">libraryDependencies</span><span> ++= </span><span class="type-name">Seq</span><span>(
  </span><span class="string-literal">&quot;org.typelevel&quot;</span><span> %% </span><span class="string-literal">&quot;log4cats-core&quot;</span><span>    % </span><span class="string-literal">&quot;2.8-3e684db-SNAPSHOT&quot;</span><span>,  </span><span class="comment">// Only if you want to Support Any Backend
</span><span>  </span><span class="string-literal">&quot;org.typelevel&quot;</span><span> %% </span><span class="string-literal">&quot;log4cats-slf4j&quot;</span><span>   % </span><span class="string-literal">&quot;2.8-3e684db-SNAPSHOT&quot;</span><span>,  </span><span class="comment">// Direct Slf4j Support - Recommended
</span><span>)</span></code></pre>
        
        <h2 id="examples" class="section"><a class="anchor-link left" href="#examples"><i class="icofont-laika link">&#xef71;</i></a>Examples</h2>
        <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">typelevel</span><span>.</span><span class="identifier">log4cats</span><span>.</span><span class="type-name">Logger</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">typelevel</span><span>.</span><span class="identifier">log4cats</span><span>.</span><span class="identifier">slf4j</span><span>.</span><span class="type-name">Slf4jLogger</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.*  

</span><span class="keyword">object</span><span> </span><span class="type-name">MyThing</span><span> {
  </span><span class="comment">// Impure But What 90% of Folks I know do with log4s
</span><span>  </span><span class="keyword">implicit</span><span> </span><span class="keyword">def</span><span> </span><span class="declaration-name">logger</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">Sync</span><span>]: </span><span class="type-name">Logger</span><span>[</span><span class="type-name">F</span><span>] = </span><span class="type-name">Slf4jLogger</span><span>.</span><span class="identifier">getLogger</span><span>[</span><span class="type-name">F</span><span>]

  </span><span class="comment">// Arbitrary Local Function Declaration
</span><span>  </span><span class="keyword">def</span><span> </span><span class="declaration-name">doSomething</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">Sync</span><span>]: </span><span class="type-name">F</span><span>[</span><span class="type-name">Unit</span><span>] =
    </span><span class="type-name">Logger</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">info</span><span>(</span><span class="string-literal">&quot;Logging Start Something&quot;</span><span>) *&gt;
            </span><span class="type-name">Sync</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">delay</span><span>(</span><span class="identifier">println</span><span>(</span><span class="string-literal">&quot;I could be doing anything&quot;</span><span>))
                    .</span><span class="identifier">attempt</span><span>.</span><span class="identifier">flatMap</span><span> {
                      </span><span class="keyword">case</span><span> </span><span class="type-name">Left</span><span>(</span><span class="identifier">e</span><span>) =&gt; </span><span class="type-name">Logger</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">error</span><span>(</span><span class="identifier">e</span><span>)(</span><span class="string-literal">&quot;Something Went Wrong&quot;</span><span>)
                      </span><span class="keyword">case</span><span> </span><span class="type-name">Right</span><span>(</span><span class="identifier">_</span><span>) =&gt; </span><span class="type-name">Sync</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">pure</span><span>(())
                    }
}

</span><span class="keyword">def</span><span> </span><span class="declaration-name">safelyDoThings</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">Sync</span><span>]: </span><span class="type-name">F</span><span>[</span><span class="type-name">Unit</span><span>] = </span><span class="keyword">for</span><span> {
  </span><span class="identifier">logger</span><span> &lt;- </span><span class="type-name">Slf4jLogger</span><span>.</span><span class="identifier">create</span><span>[</span><span class="type-name">F</span><span>]
  </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">logger</span><span>.</span><span class="identifier">info</span><span>(</span><span class="string-literal">&quot;Logging at start of safelyDoThings&quot;</span><span>)
  </span><span class="identifier">something</span><span> &lt;- </span><span class="type-name">Sync</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">delay</span><span>(</span><span class="identifier">println</span><span>(</span><span class="string-literal">&quot;I could do anything&quot;</span><span>))
          .</span><span class="identifier">onError</span><span> { </span><span class="keyword">case</span><span> </span><span class="identifier">e</span><span> =&gt; </span><span class="identifier">logger</span><span>.</span><span class="identifier">error</span><span>(</span><span class="identifier">e</span><span>)(</span><span class="string-literal">&quot;Something Went Wrong in safelyDoThings&quot;</span><span>) }
  </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">logger</span><span>.</span><span class="identifier">info</span><span>(</span><span class="string-literal">&quot;Logging at end of safelyDoThings&quot;</span><span>)
} </span><span class="keyword">yield</span><span> </span><span class="identifier">something</span><span>

</span><span class="keyword">def</span><span> </span><span class="declaration-name">passForEasierUse</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">Sync</span><span> : </span><span class="type-name">Logger</span><span>] = </span><span class="keyword">for</span><span> {
  </span><span class="identifier">_</span><span> &lt;- </span><span class="type-name">Logger</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">info</span><span>(</span><span class="string-literal">&quot;Logging at start of passForEasierUse&quot;</span><span>)
  </span><span class="identifier">something</span><span> &lt;- </span><span class="type-name">Sync</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">delay</span><span>(</span><span class="identifier">println</span><span>(</span><span class="string-literal">&quot;I could do anything&quot;</span><span>))
          .</span><span class="identifier">onError</span><span> { </span><span class="keyword">case</span><span> </span><span class="identifier">e</span><span> =&gt; </span><span class="type-name">Logger</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">error</span><span>(</span><span class="identifier">e</span><span>)(</span><span class="string-literal">&quot;Something Went Wrong in passForEasierUse&quot;</span><span>) }
  </span><span class="identifier">_</span><span> &lt;- </span><span class="type-name">Logger</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">info</span><span>(</span><span class="string-literal">&quot;Logging at end of passForEasierUse&quot;</span><span>)
} </span><span class="keyword">yield</span><span> </span><span class="identifier">something</span></code></pre>
        
        <h3 id="laconic-syntax" class="section"><a class="anchor-link left" href="#laconic-syntax"><i class="icofont-laika link">&#xef71;</i></a>Laconic syntax</h3>
        <p>It&#39;s possible to use interpolated syntax for logging.
        Currently, supported ops are: <code>trace</code>, <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>.
        You can use it for your custom <code>Logger</code> as well as for Slf4j <code>Logger</code>.</p>
        <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="type-name">Applicative</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">typelevel</span><span>.</span><span class="identifier">log4cats</span><span>.</span><span class="type-name">Logger</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">typelevel</span><span>.</span><span class="identifier">log4cats</span><span>.</span><span class="identifier">syntax</span><span>.*

</span><span class="keyword">def</span><span> </span><span class="declaration-name">successComputation</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">Applicative</span><span>]: </span><span class="type-name">F</span><span>[</span><span class="type-name">Int</span><span>] = </span><span class="type-name">Applicative</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">pure</span><span>(</span><span class="number-literal">1</span><span>)
</span><span class="keyword">def</span><span> </span><span class="declaration-name">errorComputation</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">Sync</span><span>]: </span><span class="type-name">F</span><span>[</span><span class="type-name">Unit</span><span>] = </span><span class="type-name">Sync</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">raiseError</span><span>[</span><span class="type-name">Unit</span><span>](</span><span class="keyword">new</span><span> </span><span class="type-name">Throwable</span><span>(</span><span class="string-literal">&quot;Sorry!&quot;</span><span>))

</span><span class="keyword">def</span><span> </span><span class="declaration-name">log</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">Sync</span><span> : </span><span class="type-name">Logger</span><span>] =
  </span><span class="keyword">for</span><span> {
    </span><span class="identifier">result1</span><span> &lt;- </span><span class="identifier">successComputation</span><span>[</span><span class="type-name">F</span><span>]
    </span><span class="identifier">_</span><span> &lt;- </span><span class="string-literal">info&quot;First result is </span><span class="substitution">$result1</span><span class="string-literal">&quot;</span><span>
    </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">errorComputation</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">onError</span><span> {
      </span><span class="keyword">case</span><span> </span><span class="identifier">_</span><span> =&gt; </span><span class="string-literal">error&quot;We got an error!&quot;</span><span>
    }
  } </span><span class="keyword">yield</span><span> ()</span></code></pre>
        
        <h2 id="logging-using-capabilities" class="section"><a class="anchor-link left" href="#logging-using-capabilities"><i class="icofont-laika link">&#xef71;</i></a>Logging using capabilities</h2>
        <p>You can work with logging using capabilities. It&#39;s implemented via the <code>LoggerFactory</code> trait. 
        You instantiate it once (dependent on the specific logging backend you use) 
        and pass this around in your application.</p>
        <p>This brings several advantages:</p>
        <ul>
          <li>it&#39;s no more needed to pass the very powerful <code>F[_]: Sync</code> constraint everywhere 
          that can do almost anything when you only need logging.</li>
          <li>you have control of loggers creation, and you can even add in whatever custom 
          functionality you need for your applications here. E.g. create loggers that also push logs 
          to some external providers by giving a custom implementation of this trait.</li>
        </ul>
        <p>If you are unsure how to create a new <code>LoggerFactory[F]</code> instance, then you can look at the <code>log4cats-slf4j</code>,
        or <code>log4cats-noop</code> modules for concrete implementations.</p>
        <p>The quickest fix might be to create an instance of a <code>Slf4jFactory</code> and pass it around implicitly:</p>
        <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.</span><span class="type-name">IO</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="type-name">Monad</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">typelevel</span><span>.</span><span class="identifier">log4cats</span><span>.*
</span><span class="comment">// assumes dependency on log4cats-slf4j module
</span><span class="keyword">import</span><span> </span><span class="identifier">org</span><span>.</span><span class="identifier">typelevel</span><span>.</span><span class="identifier">log4cats</span><span>.</span><span class="identifier">slf4j</span><span>.</span><span class="type-name">Slf4jFactory</span><span>

</span><span class="comment">// create our LoggerFactory
</span><span class="keyword">implicit</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">logging</span><span>: </span><span class="type-name">LoggerFactory</span><span>[</span><span class="type-name">IO</span><span>] = </span><span class="type-name">Slf4jFactory</span><span>.</span><span class="identifier">create</span><span>[</span><span class="type-name">IO</span><span>]

</span><span class="comment">// we summon LoggerFactory instance, and create logger
</span><span class="keyword">val</span><span> </span><span class="identifier">logger</span><span>: </span><span class="type-name">SelfAwareStructuredLogger</span><span>[</span><span class="type-name">IO</span><span>] = </span><span class="type-name">LoggerFactory</span><span>[</span><span class="type-name">IO</span><span>].</span><span class="identifier">getLogger</span><span>
</span><span class="identifier">logger</span><span>.</span><span class="identifier">info</span><span>(</span><span class="string-literal">&quot;logging in IO!&quot;</span><span>): </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>]

</span><span class="comment">// basic example of a service using LoggerFactory
</span><span class="keyword">class</span><span> </span><span class="type-name">LoggerUsingService</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">LoggerFactory</span><span> : </span><span class="type-name">Monad</span><span>] {
  </span><span class="keyword">val</span><span> </span><span class="identifier">logger</span><span> = </span><span class="type-name">LoggerFactory</span><span>[</span><span class="type-name">F</span><span>].</span><span class="identifier">getLogger</span><span>

  </span><span class="keyword">def</span><span> </span><span class="declaration-name">use</span><span>(</span><span class="identifier">args</span><span>: </span><span class="type-name">String</span><span>): </span><span class="type-name">F</span><span>[</span><span class="type-name">Unit</span><span>] =
    </span><span class="keyword">for</span><span> {
      </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">logger</span><span>.</span><span class="identifier">info</span><span>(</span><span class="string-literal">&quot;yay! effect polymorphic code&quot;</span><span>)
      </span><span class="identifier">_</span><span> &lt;- </span><span class="identifier">logger</span><span>.</span><span class="identifier">debug</span><span>(</span><span class="string-literal">s&quot;and </span><span class="substitution">$args</span><span class="string-literal">&quot;</span><span>)
    } </span><span class="keyword">yield</span><span> ()
}

</span><span class="keyword">new</span><span> </span><span class="type-name">LoggerUsingService</span><span>[</span><span class="type-name">IO</span><span>].</span><span class="identifier">use</span><span>(</span><span class="string-literal">&quot;foo&quot;</span><span>)</span></code></pre>
        
        <h2 id="cve-2021-44228-log4shell" class="section"><a class="anchor-link left" href="#cve-2021-44228-log4shell"><i class="icofont-laika link">&#xef71;</i></a>CVE-2021-44228 (&quot;log4shell&quot;)</h2>
        <p>log4cats is not directly susceptible to CVS-2021-44228.  The
        log4cats-slf4j implementation delegates all logging operations to
        <a href="https://www.slf4j.org/">slf4j</a>.  if you use log4cats-slf4j, your configured slf4j
        provider may put you at risk.  See <a href="https://www.slf4j.org/log4shell.html">slf4j&#39;s comments on
        CVE-2021-44228</a> for more.</p>

        
<hr class="footer-rule"/>
<footer>
  log4cats is a <a href="https://typelevel.org/">Typelevel</a> project distributed under the <a href="https://www.apache.org/licenses/LICENSE-2.0.txt">Apache-2.0</a> license.
</footer>


      </main>

    </div>

  </body>

</html>